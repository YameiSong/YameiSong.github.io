---
layout: post
title:  "配置 Kubernetes"
date:   2023-03-07 09:27 +0800
categories: k8s
---

# 配置 Kubernetes

## 配置 Java 微服务

```shell
# 使用配置文件
kubectl apply -f kubernetes.yaml

# 查询状态是 ready，app标签是 inventory 的 pods
kubectl wait --for=condition=ready pod -l app=inventory

# 创建名为 sys-app-name 的 ConfigMap，并向其中存储一个键值对 name : my-system
kubectl create configmap sys-app-name --from-literal name=my-system

# 创建一个 generic 类型的密钥，用户名是 bob，密码是 bobpwd
kubectl create secret generic sys-app-credentials --from-literal username=bob --from-literal password=bobpwd

# 用新的配置文件替换老的配置文件生成的 deployment
kubectl replace --force -f kubernetes.yaml
```
